\hypertarget{class_e_l_i_server_1_1_database_manager}{}\section{E\+L\+I\+Server.\+Database\+Manager Class Reference}
\label{class_e_l_i_server_1_1_database_manager}\index{E\+L\+I\+Server.\+Database\+Manager@{E\+L\+I\+Server.\+Database\+Manager}}


This class is used for retrieving and sending data to the database. The connection\+String is included in the App.\+config file on the server.  


\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_e_l_i_server_1_1_database_manager_af4932c44cd155cec929be0207f17605e}{Database\+Manager} ()
\begin{DoxyCompactList}\small\item\em Default constuctor. The connection is created and opened in this constuctor using the connection string returned by \hyperlink{class_e_l_i_server_1_1_database_manager_a2a2f09721d3e5ea9db778d74e517e8da}{Get\+Connection\+String()}. \end{DoxyCompactList}\item 
\hyperlink{class_e_l_i_server_1_1_database_manager_a194f6838e3c20bc118069a33a7b3465b}{Database\+Manager} (String connection\+String)
\begin{DoxyCompactList}\small\item\em This constuctor is used for testing. \end{DoxyCompactList}\item 
Dictionary$<$ string, string $>$ \hyperlink{class_e_l_i_server_1_1_database_manager_a5eaf0569ca067ab6e074fc76c03439fe}{Get\+User\+By\+Username\+And\+Password} (String username, String password)
\begin{DoxyCompactList}\small\item\em Load the guest by the specified username and password from the database. \end{DoxyCompactList}\item 
List$<$ Dictionary$<$ string, string $>$ $>$ \hyperlink{class_e_l_i_server_1_1_database_manager_a85c00dfc07b07c4840aca4fcdd09175e}{Get\+All\+Cities\+With\+Lat\+Lon} ()
\begin{DoxyCompactList}\small\item\em Load all cities from the database. The data that is loaded is the cities\+: \end{DoxyCompactList}\item 
void \hyperlink{class_e_l_i_server_1_1_database_manager_a7f64bd7fd49cd35e15362d2db5a302e0}{Close} ()
\begin{DoxyCompactList}\small\item\em Close the database connection. \end{DoxyCompactList}\item 
void \hyperlink{class_e_l_i_server_1_1_database_manager_a27bf3444db3446216c2a0c7b957895d9}{Set\+Video\+Call\+Connection} (string client1\+Id, string client2\+Id)
\begin{DoxyCompactList}\small\item\em Insert a \hyperlink{class_e_l_i_server_1_1_call_connection}{Call\+Connection} record in the database. \end{DoxyCompactList}\item 
void \hyperlink{class_e_l_i_server_1_1_database_manager_a8e8315c9b23095cbe799c8f75ccacc87}{Remove\+Video\+Call\+Connection} (string client1\+Id, string client2\+Id)
\begin{DoxyCompactList}\small\item\em Remove the \hyperlink{class_e_l_i_server_1_1_call_connection}{Call\+Connection} records with the specified client ids from the database. \end{DoxyCompactList}\item 
void \hyperlink{class_e_l_i_server_1_1_database_manager_a4167599aa3be67444134c0fd4f837c82}{Connect\+Guest\+To\+Table} (string guest\+Id, string table\+Id)
\begin{DoxyCompactList}\small\item\em Insert the connection between a guest and a client (table) into the database. \end{DoxyCompactList}\item 
void \hyperlink{class_e_l_i_server_1_1_database_manager_a99034ff69cba06942d29a9ad444b04c3}{Disconnect\+Guest\+From\+Table} (string guest\+Id, string table\+Id)
\begin{DoxyCompactList}\small\item\em Remove the connection between a guest and a client (table) from the database. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
String \hyperlink{class_e_l_i_server_1_1_database_manager_a2a2f09721d3e5ea9db778d74e517e8da}{Get\+Connection\+String} ()
\begin{DoxyCompactList}\small\item\em Load the connection string from the App.\+config file. \end{DoxyCompactList}\item 
Dictionary$<$ string, string $>$ \hyperlink{class_e_l_i_server_1_1_database_manager_a4ccfa58357d3f8e7fd495f78a117856e}{Get\+Dictionary\+From\+Fb\+Data\+Reader\+With\+One\+Result} (Fb\+Data\+Reader reader, String type)
\begin{DoxyCompactList}\small\item\em Create a dictionary from colums in the first row in the reader. If there are no rows, return an empty dictionary. \end{DoxyCompactList}\item 
List$<$ Dictionary$<$ string, string $>$ $>$ \hyperlink{class_e_l_i_server_1_1_database_manager_a9732d7fca81399afcb1ad6f5f01a42f3}{Get\+Dictionary\+From\+Fb\+Data\+Reader\+With\+Many\+Results} (Fb\+Data\+Reader reader, String type)
\begin{DoxyCompactList}\small\item\em Create a list of dictonaries that represent the returned row from the database. The keys are the column names and the values are the values from the database. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
Fb\+Connection \hyperlink{class_e_l_i_server_1_1_database_manager_a34b35f163316da5270e526b1d0f51889}{connection}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class is used for retrieving and sending data to the database. The connection\+String is included in the App.\+config file on the server. 



\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_e_l_i_server_1_1_database_manager_af4932c44cd155cec929be0207f17605e}\label{class_e_l_i_server_1_1_database_manager_af4932c44cd155cec929be0207f17605e}} 
\index{E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}!Database\+Manager@{Database\+Manager}}
\index{Database\+Manager@{Database\+Manager}!E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}}
\subsubsection{\texorpdfstring{Database\+Manager()}{DatabaseManager()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily E\+L\+I\+Server.\+Database\+Manager.\+Database\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Default constuctor. The connection is created and opened in this constuctor using the connection string returned by \hyperlink{class_e_l_i_server_1_1_database_manager_a2a2f09721d3e5ea9db778d74e517e8da}{Get\+Connection\+String()}. 

\mbox{\Hypertarget{class_e_l_i_server_1_1_database_manager_a194f6838e3c20bc118069a33a7b3465b}\label{class_e_l_i_server_1_1_database_manager_a194f6838e3c20bc118069a33a7b3465b}} 
\index{E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}!Database\+Manager@{Database\+Manager}}
\index{Database\+Manager@{Database\+Manager}!E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}}
\subsubsection{\texorpdfstring{Database\+Manager()}{DatabaseManager()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily E\+L\+I\+Server.\+Database\+Manager.\+Database\+Manager (\begin{DoxyParamCaption}\item[{String}]{connection\+String }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



This constuctor is used for testing. 


\begin{DoxyParams}{Parameters}
{\em connection\+String} & The Fire\+Bird connection string to the database.\\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_e_l_i_server_1_1_database_manager_a7f64bd7fd49cd35e15362d2db5a302e0}\label{class_e_l_i_server_1_1_database_manager_a7f64bd7fd49cd35e15362d2db5a302e0}} 
\index{E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}!Close@{Close}}
\index{Close@{Close}!E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}}
\subsubsection{\texorpdfstring{Close()}{Close()}}
{\footnotesize\ttfamily void E\+L\+I\+Server.\+Database\+Manager.\+Close (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Close the database connection. 

\mbox{\Hypertarget{class_e_l_i_server_1_1_database_manager_a4167599aa3be67444134c0fd4f837c82}\label{class_e_l_i_server_1_1_database_manager_a4167599aa3be67444134c0fd4f837c82}} 
\index{E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}!Connect\+Guest\+To\+Table@{Connect\+Guest\+To\+Table}}
\index{Connect\+Guest\+To\+Table@{Connect\+Guest\+To\+Table}!E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}}
\subsubsection{\texorpdfstring{Connect\+Guest\+To\+Table()}{ConnectGuestToTable()}}
{\footnotesize\ttfamily void E\+L\+I\+Server.\+Database\+Manager.\+Connect\+Guest\+To\+Table (\begin{DoxyParamCaption}\item[{string}]{guest\+Id,  }\item[{string}]{table\+Id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Insert the connection between a guest and a client (table) into the database. 


\begin{DoxyParams}{Parameters}
{\em guest\+Id} & The ID of the guest.\\
\hline
{\em table\+Id} & The ID of the client (table).\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_e_l_i_server_1_1_database_manager_a99034ff69cba06942d29a9ad444b04c3}\label{class_e_l_i_server_1_1_database_manager_a99034ff69cba06942d29a9ad444b04c3}} 
\index{E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}!Disconnect\+Guest\+From\+Table@{Disconnect\+Guest\+From\+Table}}
\index{Disconnect\+Guest\+From\+Table@{Disconnect\+Guest\+From\+Table}!E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}}
\subsubsection{\texorpdfstring{Disconnect\+Guest\+From\+Table()}{DisconnectGuestFromTable()}}
{\footnotesize\ttfamily void E\+L\+I\+Server.\+Database\+Manager.\+Disconnect\+Guest\+From\+Table (\begin{DoxyParamCaption}\item[{string}]{guest\+Id,  }\item[{string}]{table\+Id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Remove the connection between a guest and a client (table) from the database. 


\begin{DoxyParams}{Parameters}
{\em guest\+Id} & The ID of the guest.\\
\hline
{\em table\+Id} & The ID of the client (table).\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_e_l_i_server_1_1_database_manager_a85c00dfc07b07c4840aca4fcdd09175e}\label{class_e_l_i_server_1_1_database_manager_a85c00dfc07b07c4840aca4fcdd09175e}} 
\index{E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}!Get\+All\+Cities\+With\+Lat\+Lon@{Get\+All\+Cities\+With\+Lat\+Lon}}
\index{Get\+All\+Cities\+With\+Lat\+Lon@{Get\+All\+Cities\+With\+Lat\+Lon}!E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}}
\subsubsection{\texorpdfstring{Get\+All\+Cities\+With\+Lat\+Lon()}{GetAllCitiesWithLatLon()}}
{\footnotesize\ttfamily List$<$Dictionary$<$string, string$>$ $>$ E\+L\+I\+Server.\+Database\+Manager.\+Get\+All\+Cities\+With\+Lat\+Lon (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Load all cities from the database. The data that is loaded is the cities\+: 


\begin{DoxyItemize}
\item Name
\item Latitude
\item Longitude
\item Id 
\end{DoxyItemize}

\begin{DoxyReturn}{Returns}
A list with dictionaries that contain the city objects.
\end{DoxyReturn}
\mbox{\Hypertarget{class_e_l_i_server_1_1_database_manager_a2a2f09721d3e5ea9db778d74e517e8da}\label{class_e_l_i_server_1_1_database_manager_a2a2f09721d3e5ea9db778d74e517e8da}} 
\index{E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}!Get\+Connection\+String@{Get\+Connection\+String}}
\index{Get\+Connection\+String@{Get\+Connection\+String}!E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}}
\subsubsection{\texorpdfstring{Get\+Connection\+String()}{GetConnectionString()}}
{\footnotesize\ttfamily String E\+L\+I\+Server.\+Database\+Manager.\+Get\+Connection\+String (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Load the connection string from the App.\+config file. 

\begin{DoxyReturn}{Returns}
The connection string.
\end{DoxyReturn}
\mbox{\Hypertarget{class_e_l_i_server_1_1_database_manager_a9732d7fca81399afcb1ad6f5f01a42f3}\label{class_e_l_i_server_1_1_database_manager_a9732d7fca81399afcb1ad6f5f01a42f3}} 
\index{E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}!Get\+Dictionary\+From\+Fb\+Data\+Reader\+With\+Many\+Results@{Get\+Dictionary\+From\+Fb\+Data\+Reader\+With\+Many\+Results}}
\index{Get\+Dictionary\+From\+Fb\+Data\+Reader\+With\+Many\+Results@{Get\+Dictionary\+From\+Fb\+Data\+Reader\+With\+Many\+Results}!E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}}
\subsubsection{\texorpdfstring{Get\+Dictionary\+From\+Fb\+Data\+Reader\+With\+Many\+Results()}{GetDictionaryFromFbDataReaderWithManyResults()}}
{\footnotesize\ttfamily List$<$Dictionary$<$string, string$>$ $>$ E\+L\+I\+Server.\+Database\+Manager.\+Get\+Dictionary\+From\+Fb\+Data\+Reader\+With\+Many\+Results (\begin{DoxyParamCaption}\item[{Fb\+Data\+Reader}]{reader,  }\item[{String}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Create a list of dictonaries that represent the returned row from the database. The keys are the column names and the values are the values from the database. 


\begin{DoxyParams}{Parameters}
{\em reader} & The reader that contains the data.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A list with dictionaries that contain the column name and value.
\end{DoxyReturn}
\mbox{\Hypertarget{class_e_l_i_server_1_1_database_manager_a4ccfa58357d3f8e7fd495f78a117856e}\label{class_e_l_i_server_1_1_database_manager_a4ccfa58357d3f8e7fd495f78a117856e}} 
\index{E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}!Get\+Dictionary\+From\+Fb\+Data\+Reader\+With\+One\+Result@{Get\+Dictionary\+From\+Fb\+Data\+Reader\+With\+One\+Result}}
\index{Get\+Dictionary\+From\+Fb\+Data\+Reader\+With\+One\+Result@{Get\+Dictionary\+From\+Fb\+Data\+Reader\+With\+One\+Result}!E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}}
\subsubsection{\texorpdfstring{Get\+Dictionary\+From\+Fb\+Data\+Reader\+With\+One\+Result()}{GetDictionaryFromFbDataReaderWithOneResult()}}
{\footnotesize\ttfamily Dictionary$<$string, string$>$ E\+L\+I\+Server.\+Database\+Manager.\+Get\+Dictionary\+From\+Fb\+Data\+Reader\+With\+One\+Result (\begin{DoxyParamCaption}\item[{Fb\+Data\+Reader}]{reader,  }\item[{String}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Create a dictionary from colums in the first row in the reader. If there are no rows, return an empty dictionary. 


\begin{DoxyParams}{Parameters}
{\em reader} & The reader that contains the data.\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_e_l_i_server_1_1_database_manager_a5eaf0569ca067ab6e074fc76c03439fe}\label{class_e_l_i_server_1_1_database_manager_a5eaf0569ca067ab6e074fc76c03439fe}} 
\index{E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}!Get\+User\+By\+Username\+And\+Password@{Get\+User\+By\+Username\+And\+Password}}
\index{Get\+User\+By\+Username\+And\+Password@{Get\+User\+By\+Username\+And\+Password}!E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}}
\subsubsection{\texorpdfstring{Get\+User\+By\+Username\+And\+Password()}{GetUserByUsernameAndPassword()}}
{\footnotesize\ttfamily Dictionary$<$string, string$>$ E\+L\+I\+Server.\+Database\+Manager.\+Get\+User\+By\+Username\+And\+Password (\begin{DoxyParamCaption}\item[{String}]{username,  }\item[{String}]{password }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Load the guest by the specified username and password from the database. 


\begin{DoxyParams}{Parameters}
{\em username} & The username to search for.\\
\hline
{\em password} & The password to search for.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A dictionary with the user, or an dictionary with only the type\+: \char`\"{}user\char`\"{} pair.
\end{DoxyReturn}
\mbox{\Hypertarget{class_e_l_i_server_1_1_database_manager_a8e8315c9b23095cbe799c8f75ccacc87}\label{class_e_l_i_server_1_1_database_manager_a8e8315c9b23095cbe799c8f75ccacc87}} 
\index{E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}!Remove\+Video\+Call\+Connection@{Remove\+Video\+Call\+Connection}}
\index{Remove\+Video\+Call\+Connection@{Remove\+Video\+Call\+Connection}!E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}}
\subsubsection{\texorpdfstring{Remove\+Video\+Call\+Connection()}{RemoveVideoCallConnection()}}
{\footnotesize\ttfamily void E\+L\+I\+Server.\+Database\+Manager.\+Remove\+Video\+Call\+Connection (\begin{DoxyParamCaption}\item[{string}]{client1\+Id,  }\item[{string}]{client2\+Id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Remove the \hyperlink{class_e_l_i_server_1_1_call_connection}{Call\+Connection} records with the specified client ids from the database. 


\begin{DoxyParams}{Parameters}
{\em client1\+Id} & The first client in the \hyperlink{class_e_l_i_server_1_1_call_connection}{Call\+Connection} instance.\\
\hline
{\em client2\+Id} & The second client in the \hyperlink{class_e_l_i_server_1_1_call_connection}{Call\+Connection} instance.\\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_e_l_i_server_1_1_database_manager_a27bf3444db3446216c2a0c7b957895d9}\label{class_e_l_i_server_1_1_database_manager_a27bf3444db3446216c2a0c7b957895d9}} 
\index{E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}!Set\+Video\+Call\+Connection@{Set\+Video\+Call\+Connection}}
\index{Set\+Video\+Call\+Connection@{Set\+Video\+Call\+Connection}!E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}}
\subsubsection{\texorpdfstring{Set\+Video\+Call\+Connection()}{SetVideoCallConnection()}}
{\footnotesize\ttfamily void E\+L\+I\+Server.\+Database\+Manager.\+Set\+Video\+Call\+Connection (\begin{DoxyParamCaption}\item[{string}]{client1\+Id,  }\item[{string}]{client2\+Id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Insert a \hyperlink{class_e_l_i_server_1_1_call_connection}{Call\+Connection} record in the database. 


\begin{DoxyParams}{Parameters}
{\em client1\+Id} & The first client in the \hyperlink{class_e_l_i_server_1_1_call_connection}{Call\+Connection} instance.\\
\hline
{\em client2\+Id} & The second client in the \hyperlink{class_e_l_i_server_1_1_call_connection}{Call\+Connection} instance.\\
\hline
\end{DoxyParams}


\subsection{Member Data Documentation}
\mbox{\Hypertarget{class_e_l_i_server_1_1_database_manager_a34b35f163316da5270e526b1d0f51889}\label{class_e_l_i_server_1_1_database_manager_a34b35f163316da5270e526b1d0f51889}} 
\index{E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}!connection@{connection}}
\index{connection@{connection}!E\+L\+I\+Server\+::\+Database\+Manager@{E\+L\+I\+Server\+::\+Database\+Manager}}
\subsubsection{\texorpdfstring{connection}{connection}}
{\footnotesize\ttfamily Fb\+Connection E\+L\+I\+Server.\+Database\+Manager.\+connection\hspace{0.3cm}{\ttfamily [private]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
E\+L\+I\+Server/\hyperlink{_database_manager_8cs}{Database\+Manager.\+cs}\end{DoxyCompactItemize}
